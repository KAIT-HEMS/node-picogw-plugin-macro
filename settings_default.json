{
	"triggers": {
		"check_mode": "const CHECK_DEVS\n    = ['AirConditioner','GenericIllumination'] ;\nconst CHECK_PATH\n    = '/v1/echonet/(' + CHECK_DEVS.join('|') + ')_.+/OperatingState' ;\n\n// Get powers of all ECHONET Lite devices\ncallProc({method:'GET',path:CHECK_PATH})\n  .then( re=>{\n    for( const path in re ){\n      if( re[path].value == 'on' ){\n        resolve('on'); // returns 'on' mode if at least one device is on.\n        return ;\n      }\n    }\n    resolve('off'); // Otherwise the mode is 'off'\n  }).catch(reject);",
		"pollingInterval": 300
	},
	"actions": {
		"on": "print('ON command received');\n\n// Switch on all ECHONET Lite devices\ncallProc({method:'PUT',path:'/v1/echonet/.+/OperatingState',args:{value:'on'}})\n .then(resolve)\n .catch(reject);",
		"off": "print('OFF command received');\n\n// Switch off all ECHONET Lite devices\ncallProc({method:'PUT',path:'/v1/echonet/.+/OperatingState',args:{value:'off'}})\n .then(resolve)\n .catch(reject);",
		"custom1": "// Just resolve without doing anything\nresolve({});",
		"custom2": "// Just resolve without doing anything\nresolve({});",
		"custom3": "// Just resolve without doing anything\nresolve({});"
	}
}
